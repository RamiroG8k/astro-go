---
import type { Polymorphic } from 'astro/types';

type TextTags = 'p' | 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6' | 'span' | 'strong' | 'em' | 'blockquote';

type Props<Tag extends TextTags> = Polymorphic<{ as: Tag }>;

const { as: Element = 'p', ...attrs } = Astro.props;
---

<Element data-as={Element.toLowerCase()} {...attrs}>
    <slot />
</Element>

<style>
    [data-as] {
        font-family: var(--font-rethink);
        color: var(--color-content);
        line-height: var(--line-height-normal);
    }
    
    [data-as="h1"] {
        font-size: var(--font-size-10);
        font-weight: var(--font-weight-bold);
        line-height: var(--line-height-tight);
    }

    [data-as="h2"] {
        font-size: var(--font-size-9);
        font-weight: var(--font-weight-bold);
        line-height: var(--line-height-tight);
    }

    [data-as="h3"] {
        font-size: var(--font-size-8);
        font-weight: var(--font-weight-semibold);
    }

    [data-as="h4"] {
        font-size: var(--font-size-7);
        font-weight: var(--font-weight-semibold);
    }

    [data-as="h5"] {
        font-size: var(--font-size-6);
        font-weight: var(--font-weight-medium);
    }

    [data-as="h6"] {
        font-size: var(--font-size-5);
        font-weight: var(--font-weight-medium);
    }

    [data-as="p"] {
        font-size: var(--font-size-3);
        font-weight: var(--font-weight-regular);
    }

    [data-as="blockquote"] {
        font-family: var(--font-family-serif);
        font-size: var(--font-size-4);
        border-left: 4px solid var(--color-border);
        padding-left: 1rem; /* Example of spacing */
        color: var(--color-text-secondary);
    }

    [data-as="strong"] {
        font-weight: var(--font-weight-bold);
    }

    [data-as="em"] {
        font-style: italic;
    }

    [data-as="span"] {
        /* Spans have no default styling, they inherit from their parent */
    }
</style>
